jQuery(function(t){if("undefined"==typeof wcsatt_cart_params)return!1;t(document).on("change",".wcsatt-options-cart input[type=radio][name^=convert_to_sub]",function(){var a=t("div.cart_totals"),e=t("table.shop_table.cart"),r=t(this).closest(".wcsatt-options-cart"),c=e.closest(".woocommerce"),n=t(this).val(),o=e.find('input[name="_wp_http_referer"]').val();c.block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var s={security:wcsatt_cart_params.update_cart_option_nonce,selected_scheme:n,action:"wcsatt_update_cart_option"};t.post(wcsatt_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","wcsatt_update_cart_option"),s,function(n){if("success"===n.result){var s=t(t.parseHTML(n.html)),_=s.find("div.cart_totals"),p=s.find("table.shop_table.cart");o&&p.find('input[name="_wp_http_referer"]').val(o),p.find('input[name="update_cart"]').prop("disabled",!0),a.replaceWith(_),e.replaceWith(p),c.trigger("wcsatt_updated_cart")}else window.alert(wcsatt_cart_params.i18n_update_cart_sub_error),r.find('input[value="'+n.reset_to_scheme+'"]').prop("checked",!0);c.unblock()})})});